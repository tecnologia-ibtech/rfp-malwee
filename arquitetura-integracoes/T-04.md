## T-04 - Customização (Produto)

### Pergunta
Como a plataforma lida com customizações (conforme Premissa 1)? Elas são feitas em uma camada separada que não impede futuras atualizações (upgrades) do core do produto?

### Resposta

A plataforma Geovendas permite alto grau de customização sem comprometer a capacidade de evolução do produto core. Ao longo de anos atendendo clientes de diferentes portes e segmentos, a arquitetura foi refinada para suportar requisitos específicos de cada organização mantendo um núcleo estável e evolutível.

#### Arquitetura de Customização em Camadas

A estratégia de customização da plataforma baseia-se em separação clara entre código core do produto e extensões específicas de cliente. O código core contém todas as funcionalidades fundamentais da plataforma: engine de catálogo e navegação de produtos, sistema de precificação e cálculo de condições comerciais, fluxo de pedidos desde criação até integração com ERP, gestão de usuários e permissionamento, sincronização de dados mestres e transacionais, e infraestrutura técnica de comunicação, segurança e persistência.

As customizações específicas de cliente são implementadas através de mecanismos de extensão que permitem adicionar ou modificar comportamentos sem alterar o código core. Esta separação é mantida através de estruturas de diretórios específicas, namespaces isolados, e pontos de extensão bem definidos na arquitetura do sistema.

#### Mecanismos de Extensibilidade

A plataforma implementa diversos padrões de design que facilitam customizações não invasivas. Um dos principais mecanismos é o sistema de configurações parametrizadas que permite ajustar comportamentos através de arquivos de configuração ou interface administrativa, sem necessidade de alteração de código. Exemplos incluem configuração de fluxos de aprovação de pedidos customizados por cliente, definição de regras de visibilidade e acesso ao catálogo baseadas em perfis específicos, personalização de cálculos de preço e descontos com fórmulas específicas, e ajuste de integrações com diferentes versões e configurações de ERP.

Outro mecanismo importante é o sistema de hooks e eventos que permite que código customizado seja injetado em pontos específicos do fluxo de processamento sem modificar a lógica core. Por exemplo, é possível registrar handlers customizados que executam antes ou após a criação de um pedido, permitindo validações adicionais específicas do cliente, ou implementar transformações de dados durante sincronizações com o ERP para lidar com particularidades do modelo de dados corporativo.

A plataforma também implementa padrões de herança e composição que permitem que componentes customizados estendam funcionalidades base. Isso é particularmente útil para customizações de interface e lógicas de negócio específicas, onde comportamentos padrão podem ser estendidos ou substituídos seletivamente sem impactar outras funcionalidades do sistema.

#### Customizações de Interface e Experiência do Usuário

Para personalização da experiência do usuário, a plataforma separa claramente estrutura, estilo e comportamento. Templates de interface são organizados em hierarquia onde templates core fornecem estrutura base que pode ser sobrescrita por templates customizados de cliente. Esta abordagem permite que cada implementação tenha identidade visual única, fluxos de navegação adaptados ao seu modelo de negócio, e conteúdos específicos, enquanto mantém o core de funcionalidade intacto.

As customizações visuais são isoladas em folhas de estilo específicas de cliente que sobrescrevem estilos padrão da plataforma. Esta separação garante que atualizações no design base da plataforma não conflitem com personalizações visuais dos clientes. Da mesma forma, scripts de comportamento customizado são organizados em estrutura de diretórios que mantém clara distinção entre código core e código específico de implementação.

#### Gestão de Upgrades e Compatibilidade

A estrutura de separação entre core e customizações é fundamental para viabilizar processos de upgrade suaves. Quando novas versões da plataforma são lançadas com melhorias, correções de bugs ou novas funcionalidades, o processo de atualização pode focar exclusivamente no core do produto, preservando as customizações específicas de cada cliente.

A equipe de desenvolvimento mantém rigoroso controle de versionamento e documentação de breaking changes. Quando alterações na arquitetura core são necessárias e podem impactar customizações existentes, estas mudanças são claramente documentadas e acompanhadas de guias de migração que orientam como adaptar código customizado para compatibilidade com a nova versão.

O processo de upgrade típico envolve atualização do código core preservando estruturas de customização, execução de scripts de migração de banco de dados quando necessário, testes automatizados que verificam funcionalidades core, e testes manuais de funcionalidades customizadas específicas do cliente. Este processo é executado primeiro em ambiente de homologação antes de ser aplicado em produção, garantindo que eventuais incompatibilidades sejam identificadas e resolvidas antes de impactar operações.

#### Módulos Opcionais e Feature Flags

A plataforma implementa conceito de módulos opcionais que podem ser ativados ou desativados conforme necessidades específicas de cada implementação. Módulos como gestão de contratos e metas comerciais, integração com marketplaces externos, portal de cobrança e gestão financeira, e funcionalidades específicas de CRM podem ser seletivamente habilitados através de configuração, sem necessidade de manter branches de código separados para diferentes clientes.

Feature flags permitem controle granular de funcionalidades, possibilitando que novas features sejam gradualmente disponibilizadas para clientes específicos antes de se tornarem parte do produto padrão. Este mecanismo é útil tanto para validação de funcionalidades em produção quanto para atender requisitos específicos de clientes que necessitam de features especializadas.

#### Customizações de Regras de Negócio

Regras de negócio complexas e específicas de cada organização são implementadas através de engines configuráveis que separam lógica de dados. Por exemplo, regras de cálculo de comissões de representantes, políticas de aprovação de pedidos baseadas em múltiplos critérios, e condições especiais de faturamento e entrega são definidas através de sistemas de regras que podem ser customizados sem alterar código core.

Esta abordagem baseada em configuração de regras permite que analistas de negócio com conhecimento técnico adequado possam ajustar comportamentos do sistema sem necessidade de envolvimento de desenvolvedores para cada mudança, acelerando adaptações a mudanças de políticas comerciais.

#### Documentação de Pontos de Extensão

Para facilitar customizações seguras e upgrades sustentáveis, a plataforma mantém documentação interna dos principais pontos de extensão disponíveis. Esta documentação orienta desenvolvedores sobre como implementar customizações específicas seguindo as melhores práticas que garantem compatibilidade futura. Exemplos de código e templates de customizações comuns são disponibilizados para acelerar implementações.

Em resumo, a arquitetura de customização da plataforma Geovendas equilibra flexibilidade para atender requisitos específicos de cada cliente com manutenibilidade e capacidade de evolução do produto core. A separação rigorosa entre código base e extensões, combinada com mecanismos bem definidos de extensibilidade e processos estruturados de upgrade, garante que as organizações podem adaptar a plataforma às suas necessidades específicas sem comprometer sua capacidade de beneficiar-se de futuras evoluções do produto.