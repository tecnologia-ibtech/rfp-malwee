## T-12 - Garantias de RTO e RPO

### Pergunta
Em caso de sinistro, há garantias de RTO e RPO adequados para restaurar o ambiente?

### Resposta

RTO (Recovery Time Objective) e RPO (Recovery Point Objective) são fundamentais em planejamento de continuidade de negócio e recuperação de desastres. RTO define o tempo máximo aceitável de indisponibilidade de sistemas após sinistro, enquanto RPO define a perda máxima aceitável de dados. Estes parâmetros direcionam estratégias técnicas de backup, redundância e recuperação.

#### Definição de Objetivos de Recuperação

Os valores apropriados de RTO e RPO variam significativamente conforme a criticidade do sistema para operações do negócio. Sistemas transacionais críticos que suportam vendas em tempo real tipicamente requerem RTO medido em horas e RPO medido em minutos, minimizando tanto indisponibilidade quanto perda de transações. Sistemas analíticos ou de reporting podem tolerar RTO e RPO maiores sem impacto operacional significativo.

A definição de RTO e RPO deve considerar não apenas aspectos técnicos de quanto tempo é necessário para restaurar sistemas e dados, mas também impactos de negócio de indisponibilidade e perda de dados. Uma hora de indisponibilidade pode representar perdas financeiras diretas (vendas não realizadas), danos reputacionais (clientes insatisfeitos) e custos operacionais (equipes ociosas ou trabalhando com processos manuais).

A mensuração de RPO em contexto de bases de dados transacionais relaciona-se diretamente com frequência de backups. Se backups completos são realizados diariamente à noite, o RPO é de até 24 horas - um sinistro ocorrido momentos antes do backup noturno resultaria em perda de praticamente um dia completo de transações. Estratégias de backup contínuo ou incremental reduzem significativamente o RPO.

#### Capacidades Técnicas de Backup e Recuperação

A infraestrutura de backup da plataforma utiliza automatização para realização periódica de capturas completas do estado dos bancos de dados. A frequência destes backups balanceia necessidades de minimização de perda de dados com custos de processamento, armazenamento e janelas de backup disponíveis em ambientes com operação contínua.

Os backups são transferidos para armazenamento separado da infraestrutura de produção, implementando proteção contra cenários de falha que afetem simultaneamente dados produtivos e backups colocalizados. Dependendo da arquitetura específica de cada implantação, este armazenamento separado pode envolver replicação geográfica, utilização de serviços de armazenamento em nuvem especializados ou mídia offline.

A restauração de backups envolve procedimentos técnicos que incluem identificação do backup apropriado (geralmente o mais recente anterior ao sinistro), transferência dos dados de armazenamento de backup para infraestrutura de produção, e reconstrução do ambiente operacional. O tempo necessário para estes procedimentos depende de volume de dados, velocidade de transferência entre armazenamentos e complexidade de reconfiguração de ambientes.

#### Variabilidade de RTO e RPO por Componente

Diferentes componentes da plataforma podem ter características distintas de recuperação. O banco de dados transacional, repositório central de informações críticas, geralmente recebe investimento prioritário em capacidades de backup e recuperação rápida. Arquivos estáticos como imagens de produtos ou documentos podem ter RPO maior sem impacto operacional significativo.

Configurações de aplicação, definições de regras de negócio e customizações implementadas podem residir em bases de dados ou arquivos de configuração. A estratégia de backup deve abranger todos estes componentes para que recuperação resulte em ambiente verdadeiramente funcional, não apenas restauração de dados transacionais sem configurações correspondentes.

Integrações com sistemas externos adicionam complexidade à recuperação. Após restauração de backup, pode ser necessário ressincronizar dados que foram modificados em sistemas de origem (ERP) durante o período de indisponibilidade. Mecanismos de sincronização devem ser capazes de identificar e processar estas diferenças sem duplicação ou perda de informações.

#### Ausência de Compromissos Formais de RTO/RPO

A plataforma, em seu modelo típico de implantação, não estabelece garantias contratuais explícitas de RTO e RPO com valores específicos documentados em acordos de nível de serviço (SLA). Esta ausência significa que, embora capacidades técnicas de backup e recuperação existam, não há compromissos formais quantitativos sobre tempos máximos de recuperação ou perda máxima de dados.

A falta de compromissos formais de RTO/RPO transfere risco para o cliente e reduz previsibilidade sobre como sinistros serão tratados. Em ambientes corporativos críticos, a ausência destes parâmetros formalmente acordados representa lacuna em governança de continuidade de negócio e pode ser considerada inadequada para operações de missão crítica.

Clientes que requerem garantias específicas de RTO e RPO precisariam negociar estes termos explicitamente, potencialmente envolvendo investimentos adicionais em infraestrutura redundante, replicação em tempo real, automação de failover e capacidades de alta disponibilidade que vão além de backups periódicos tradicionais.

#### Fatores que Influenciam RTO e RPO Reais

O RTO real em caso de sinistro depende de múltiplos fatores além de capacidades técnicas de restauração. A detecção rápida do sinistro, disponibilidade imediata de equipe técnica qualificada, acesso a documentação de procedimentos de recuperação e disponibilidade de infraestrutura alternativa para restauração são igualmente críticos.

Sinistros ocorridos em horários comerciais com equipe completa disponível tendem a ter RTO menor que sinistros em fins de semana ou horários noturnos que requerem acionamento de equipe de sobreaviso. A documentação clara de procedimentos de recuperação e treinamento regular de equipes reduz tempo de recuperação ao eliminar descoberta de procedimentos sob pressão durante crise real.

O RPO real é influenciado pelo momento do sinistro em relação ao ciclo de backups. Se backups são realizados diariamente à meia-noite e sinistro ocorre às 23h, o RPO é de aproximadamente 23 horas. Se sinistro ocorre logo após conclusão de backup, RPO é próximo de zero. Backups mais frequentes reduzem o RPO máximo possível, mas aumentam carga sobre sistemas de produção.

#### Abordagens para Melhoria de RTO e RPO

A redução de RTO pode ser alcançada através de múltiplas estratégias técnicas. Ambientes redundantes em hot standby, onde infraestrutura paralela mantém réplica atualizada de dados e pode assumir operações imediatamente, eliminam tempo de restauração de backups. Esta abordagem é mais custosa mas reduz RTO para minutos ou até segundos.

A redução de RPO requer captura mais frequente de mudanças de dados. Replicação contínua de transações de banco de dados para ambiente secundário, com lag mínimo, pode reduzir RPO para segundos. Logs de transações aplicados incrementalmente permitem recuperação point-in-time para qualquer momento entre backups completos, refinando granularidade de recuperação.

Automação de procedimentos de recuperação através de scripts e ferramentas de orquestração reduz RTO ao eliminar passos manuais sujeitos a erros e demoras. Testes regulares de recuperação validam que automação funciona e que RTO/RPO teóricos são alcançáveis na prática. Sem testes, compromissos de RTO/RPO são especulativos.

#### Responsabilidade Compartilhada em Continuidade

Em modelos onde a infraestrutura é gerenciada pelo cliente ou por provedor de nuvem terceirizado, a responsabilidade por capacidades de RTO/RPO é compartilhada. O fornecedor da aplicação pode implementar práticas de desenvolvimento que facilitam recuperação rápida, mas a execução real de backups, manutenção de ambientes redundantes e procedimentos de failover podem ser responsabilidade da camada de infraestrutura.

Provedores de nuvem oferecem serviços gerenciados de backup, replicação geográfica e alta disponibilidade que podem ser contratados para alcançar RTO/RPO específicos. A utilização destes serviços envolve custos incrementais proporcionais ao nível de resiliência desejado. Clientes devem avaliar criticidade de suas operações contra investimento necessário em capacidades de recuperação.